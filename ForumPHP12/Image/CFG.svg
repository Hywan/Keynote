<?xml version="1.0" standalone="yes"?>

<!DOCTYPE svg PUBLIC "-//W3C/DTD SVG 1.1//EN"
                     "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<svg version="1.1" xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     viewBox="0 0 320 400" class="debug-off">

  <style>
    rect, path {
      fill: none;
      stroke: #000;
      stroke-width: .5;
      stroke-linejoin: round;
    }

    rect {
      stroke-linecap: round;
    }

    text {
      font-family: "Andale Mono";
      font-size: 10pt;
      text-anchor: middle;
      dominant-baseline: middle;
    }

    .fill {
        fill: #000;
    }

    .control > rect {
      fill: #fff;
    }

    .annotation > text {
        font-size: 10pt;
    }

    .start {
      text-anchor: start;
    }

    .end {
      text-anchor: end;
    }

    rect.viewport {
      stroke-width: 0;
    }

    .debug-on rect.viewport {
      stroke-width: 1;
    }
  </style>

  <rect x="0" y="0" width="100%" height="100%" class="viewport" />

  <defs>
    <path id="rarrow" class="fill" transform="translate(0 -3)" d="
      M  0, 0
      l  5, 3
      l -5, 3
      z
      " />
    <use id="barrow" xlink:href="#rarrow" transform="rotate(90)" />
  </defs>

  <g class="path">
    <path d="M 150,  30 L  90, 115" />

    <path d="M 150,  30 L 210, 115" />
    <path d="M  90, 115 L 150, 200" />

    <path d="M 210, 115 L 150, 200" />
    <path d="M 150, 200 L  90, 285" />

    <path d="M 150, 200 L 210, 285" />
    <path d="M  90, 285 L 150, 370" />

    <path d="M 210, 285 L 150, 370" />

    <use xlink:href="#barrow" x="107.5" y="90.5"
         transform="rotate(33 107.5 90.5)" />
    <use xlink:href="#barrow" x="192.5" y="90.5"
         transform="rotate(-33 192.5 90.5)" />

    <use xlink:href="#barrow" x="107.5" y="260.5"
         transform="rotate(33 107.5 260.5)" />
    <use xlink:href="#barrow" x="192.5" y="260.5"
         transform="rotate(-33 192.5 260.5)" />

    <use xlink:href="#barrow" x="135" y="179"
         transform="rotate(-38 135 179)" />
    <use xlink:href="#barrow" x="165" y="179"
         transform="rotate(38 165 179)" />

    <use xlink:href="#barrow" x="132.5" y="345.5"
         transform="rotate(-38 132.5 345.5)" />
    <use xlink:href="#barrow" x="167.5" y="345.5"
         transform="rotate(38 167.5 345.5)" />
  </g>


  <g class="control">
    <rect x="130" y="10" width="40" height="40" rx="5" ry="5"
          transform="rotate(45 150 30)" />

    <rect x="70" y="95" width="40" height="40" rx="5" ry="5" />
    <rect x="190" y="95" width="40" height="40" rx="5" ry="5" />

    <rect x="130" y="180" width="40" height="40" rx="5" ry="5"
          transform="rotate(45 150 200)" />

    <rect x="70" y="265" width="40" height="40" rx="5" ry="5" />
    <rect x="190" y="265" width="40" height="40" rx="5" ry="5" />

    <rect x="130" y="350" width="40" height="40" rx="5" ry="5" />
  </g>

  <g class="label">
    <text x="150" y="30">A</text>

    <text  x="90" y="115">B</text>
    <text x="210" y="115">C</text>

    <text x="150" y="200">D</text>

    <text  x="90" y="285">E</text>
    <text x="210" y="285">F</text>

    <text x="150" y="370">G</text>
  </g>

  <g class="annotation">
    <text x="110" y="72.5" class="end">x &lt;= 0</text>
    <text x="190" y="72.5" class="start">x > 0</text>

    <text  x="60" y="115" class="end">x := -x</text>
    <text x="240" y="115" class="start">x := 1 - x</text>

    <text x="110" y="242.5" class="end">x := -1</text>
    <text x="200" y="242.5" class="start">x /= -1</text>

    <text  x="60" y="285" class="end">x := 1</text>
    <text x="240" y="285" class="start">x := x + 1</text>

    <text x="185" y="370" class="start">writeln(x)</text>
  </g>
</svg>
